{
    "type": "Ext.container.Viewport",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|initialView": true,
        "designer|userAlias": "myviewport",
        "designer|userClassName": "MyViewport",
        "layout": "fit"
    },
    "name": "MyViewport",
    "designerId": "fe7fdc86-35b4-411e-9a5a-bd777740d0fc",
    "viewControllerInstanceId": "3e44ecb5-5d81-4a09-a0b5-255fe2e5dc32",
    "viewModelInstanceId": "f0c78d6f-b5da-4b2f-9746-e6c831e349a4",
    "cn": [
        {
            "type": "Ext.panel.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "container|align": "stretch",
                "height": 250,
                "layout": "hbox",
                "title": "Senkins",
                "width": 400
            },
            "name": "MyPanel",
            "designerId": "af96e49c-2fd2-4344-b258-afaa05601edb",
            "cn": [
                {
                    "type": "Ext.grid.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "itemId": "jobGrid",
                        "layout|flex": 1,
                        "store": [
                            "{JobStore}"
                        ],
                        "title": ""
                    },
                    "name": "MyGridPanel",
                    "configAlternates": {
                        "store": "binding"
                    },
                    "designerId": "0d164643-0f1a-4f51-bfcb-3150d6dd520a",
                    "cn": [
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "string",
                                "text": "Job Name"
                            },
                            "name": "MyColumn",
                            "designerId": "41c26bc4-3bc8-43c4-9f92-20b0048e3c21"
                        },
                        {
                            "type": "Ext.grid.column.Date",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "number",
                                "text": "Last Run"
                            },
                            "name": "MyDateColumn1",
                            "designerId": "1509ab9e-714d-4a56-b7c5-9b3b6124c4e2"
                        },
                        {
                            "type": "Ext.grid.column.Date",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "date",
                                "text": "Last Error"
                            },
                            "name": "MyDateColumn",
                            "designerId": "b5188c34-a0c5-4f34-83a2-f036b39b82e0"
                        },
                        {
                            "type": "Ext.view.Table",
                            "reference": {
                                "name": "viewConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyTable",
                            "designerId": "28348b03-39d6-4448-8361-f9f8e4a3ccb5"
                        },
                        {
                            "type": "Ext.toolbar.Toolbar",
                            "reference": {
                                "name": "dockedItems",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dock": "top"
                            },
                            "name": "MyToolbar",
                            "designerId": "279ec1fc-f1ae-4f12-a4cf-99933eacb6eb",
                            "cn": [
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "cls": null,
                                        "icon": null,
                                        "iconCls": null,
                                        "layout|flex": null,
                                        "text": "<i class=\"fa fa-plus-circle\"></i> Add New Job"
                                    },
                                    "name": "MyButton",
                                    "designerId": "f1b54ea2-0396-4bdf-8c2f-4ca75cdf2c2e",
                                    "cn": [
                                        {
                                            "type": "basiceventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onButtonClick1",
                                                "implHandler": [
                                                    "this.changeState('new');"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "name": "onButtonClick1",
                                            "designerId": "3b0f8a1a-222d-4346-8982-5269b4f6ae3f"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "layout|flex": null,
                                        "text": "<i class=\"fa fa-wrench\"></i> Settings"
                                    },
                                    "name": "MyButton4",
                                    "designerId": "398f54b3-0a6d-434c-93b5-19a6a28f7c1b",
                                    "cn": [
                                        {
                                            "type": "basiceventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onButtonClick3",
                                                "implHandler": [
                                                    "this.changeState('settings');"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "name": "onButtonClick3",
                                            "designerId": "7d8a5771-9eef-40f8-8b33-2d74b1c15a8f"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.form.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "bodyPadding": 10,
                        "frame": null,
                        "itemId": "jobPanel",
                        "layout|flex": 1,
                        "title": "Editing Job [INSRT JOB HERE]"
                    },
                    "name": "MyForm3",
                    "designerId": "dfdbf323-2170-4d26-8bda-aa8f1c523595",
                    "cn": [
                        {
                            "type": "Ext.container.Container",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "container|align": "stretch",
                                "layout": "hbox",
                                "margin": "10 0 10 0"
                            },
                            "name": "MyContainer",
                            "designerId": "b4ecac04-bdaa-44ea-b1c0-fb71ec36a803",
                            "cn": [
                                {
                                    "type": "Ext.container.Container",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "layout|flex": 1
                                    },
                                    "name": "MyContainer1",
                                    "designerId": "218b1f37-a743-4f71-9bb0-9fce30c2cd00"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "itemId": "executeJobBtn",
                                        "layout|flex": null,
                                        "scale": "large",
                                        "text": "Execute Job Now"
                                    },
                                    "name": "MyButton5",
                                    "designerId": "9ec50ca1-5021-4546-bfcb-5f476de8c153"
                                },
                                {
                                    "type": "Ext.container.Container",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "layout|flex": 1
                                    },
                                    "name": "MyContainer2",
                                    "designerId": "d3a33434-3539-4c98-8485-696ff0ce38b4"
                                }
                            ]
                        },
                        {
                            "type": "Ext.toolbar.Toolbar",
                            "reference": {
                                "name": "dockedItems",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dock": "top"
                            },
                            "name": "MyToolbar1",
                            "designerId": "421936a7-aed2-45b1-8038-93fea6ed52d9",
                            "cn": [
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "layout|flex": null,
                                        "text": "<i class=\"fa fa-floppy-o\"></i> Save"
                                    },
                                    "name": "MyButton1",
                                    "designerId": "51b052d5-8582-4944-b7e0-e3ea819fdddb",
                                    "cn": [
                                        {
                                            "type": "basiceventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onButtonClick4",
                                                "implHandler": [
                                                    "if(this.state == 'new'){",
                                                    "    this.addNewJob();",
                                                    "}else if (this.state == 'edit'){",
                                                    "    this.editJob();",
                                                    "}"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "name": "onButtonClick4",
                                            "designerId": "26c276b0-650e-4115-8c13-f6804d833897"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "layout|flex": null,
                                        "text": "<i class=\"fa fa-ban\"></i> Cancel"
                                    },
                                    "name": "MyButton2",
                                    "designerId": "a019e38e-ec50-42f6-bf7b-98ce60213c5b",
                                    "cn": [
                                        {
                                            "type": "basiceventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onButtonClick",
                                                "implHandler": [
                                                    "this.changeState('init');"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "name": "onButtonClick",
                                            "designerId": "57224d85-2b3b-478c-9f7c-44d467c11361"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.toolbar.Spacer",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "layout|flex": 1
                                    },
                                    "name": "MySpacer2",
                                    "designerId": "afec88a7-5c3f-443a-b9bc-cf25b584e78d"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "itemId": "deleteBtn",
                                        "layout|flex": null,
                                        "text": "<i class=\"fa fa-trash\"></i> Delete"
                                    },
                                    "name": "MyButton3",
                                    "designerId": "85967de7-cdef-42bc-aba4-21fca79f755b"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.FieldSet",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": null,
                                "layout": "form",
                                "title": "Description"
                            },
                            "name": "MyFieldSet",
                            "designerId": "c13067a3-8f94-4b54-b1c9-bfce8e403789",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "Name",
                                        "name": "name"
                                    },
                                    "name": "MyTextField1",
                                    "designerId": "8fbddd71-582c-41e8-a9c4-947c923609b1"
                                },
                                {
                                    "type": "Ext.form.field.TextArea",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "Description",
                                        "name": "description"
                                    },
                                    "name": "MyTextArea",
                                    "designerId": "aa807449-3b18-4d7c-a669-fe190d2544bc"
                                },
                                {
                                    "type": "Ext.form.field.TextArea",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "Exec",
                                        "name": "exec"
                                    },
                                    "name": "MyTextArea2",
                                    "designerId": "3b141f56-4429-4c6f-a314-4d2fbd4b8bc1"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.FieldSet",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "layout": "form",
                                "title": "Cron"
                            },
                            "name": "MyFieldSet2",
                            "designerId": "d3e18c44-2dc4-4c01-8d16-0f054cd9654c",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Checkbox",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "boxLabel": "",
                                        "checked": null,
                                        "fieldLabel": "Scheduled Job",
                                        "name": "useCron"
                                    },
                                    "name": "MyCheckbox",
                                    "designerId": "a8ad1efd-c100-4514-91da-1552820a124a"
                                },
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "Cron Schedule",
                                        "name": "cron"
                                    },
                                    "name": "MyTextField4",
                                    "designerId": "d27ae24b-f799-4067-b46a-3a32f9041524"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.FieldSet",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "layout": "form",
                                "title": "Email"
                            },
                            "name": "MyFieldSet3",
                            "designerId": "7a04019a-3bdc-4b5e-a6d1-bf64b79361d7",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Checkbox",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "boxLabel": "",
                                        "checked": true,
                                        "fieldLabel": "Use Default",
                                        "name": "useDefaultEmail"
                                    },
                                    "name": "MyCheckbox1",
                                    "designerId": "d69c0208-ba46-4f27-a771-3088552244ad"
                                },
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "Email",
                                        "name": "email"
                                    },
                                    "name": "MyTextField2",
                                    "designerId": "97c4aec0-7baf-4637-9754-0a65a5be20e5"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.form.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "bodyPadding": 10,
                        "frame": null,
                        "itemId": "settingsPanel",
                        "layout|flex": 1,
                        "title": "Settings"
                    },
                    "name": "MyForm4",
                    "designerId": "7e0ae235-60eb-4b09-a291-711aacfd310f",
                    "cn": [
                        {
                            "type": "Ext.toolbar.Toolbar",
                            "reference": {
                                "name": "dockedItems",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dock": "top"
                            },
                            "name": "MyToolbar2",
                            "designerId": "e42ba19b-280f-4e2a-b07f-dd2a238b31e1",
                            "cn": [
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "layout|flex": null,
                                        "text": "<i class=\"fa fa-floppy-o\"></i> Save"
                                    },
                                    "name": "MyButton7",
                                    "designerId": "73457c23-baab-43b4-8723-700284b9510e"
                                },
                                {
                                    "type": "Ext.toolbar.Spacer",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "layout|flex": 1
                                    },
                                    "name": "MySpacer",
                                    "designerId": "4ecd4c92-2bf0-4ac3-924d-117d51ef0bb8"
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "layout|flex": null,
                                        "text": "<i class=\"fa fa-ban\"></i> Cancel"
                                    },
                                    "name": "MyButton6",
                                    "designerId": "6d13be77-6d17-4857-a16b-4e45f003be32",
                                    "cn": [
                                        {
                                            "type": "basiceventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onButtonClick2",
                                                "implHandler": [
                                                    "this.changeState('init');"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "name": "onButtonClick2",
                                            "designerId": "ea893593-8f01-422c-8edf-ad9ee89f89f2"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fieldLabel": "Default Email",
                                "layout|anchor": "100%"
                            },
                            "name": "MyTextField",
                            "designerId": "9dba7393-236f-4dee-8ffb-42c2b772cbec"
                        }
                    ]
                }
            ]
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "newState"
                ],
                "fn": "changeState",
                "implHandler": [
                    "var jobPanel = this.queryById(\"jobPanel\");",
                    "var settingsPanel = this.queryById(\"settingsPanel\");",
                    "var executeJobBtn = this.queryById(\"executeJobBtn\");",
                    "var deleteBtn = this.queryById(\"deleteBtn\");",
                    "",
                    "switch(newState){",
                    "    case 'init':",
                    "        jobPanel.hide();",
                    "        jobPanel.reset();",
                    "",
                    "        settingsPanel.hide();",
                    "        break;",
                    "    case 'new':",
                    "        jobPanel.setTitle(\"Create New Job\");",
                    "        jobPanel.show();",
                    "",
                    "        executeJobBtn.hide();",
                    "        deleteBtn.hide();",
                    "        break;",
                    "    case 'settings':",
                    "        settingsPanel.show();",
                    "        jobPanel.hide();",
                    "        jobPanel.reset();",
                    "        break;",
                    "}",
                    "",
                    "this.state = newState;"
                ]
            },
            "name": "changeState",
            "designerId": "54396eb0-9ddb-4138-a46c-3fe1970f7ddf"
        },
        {
            "type": "basiceventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onViewportRender",
                "implHandler": [
                    "this.changeState(\"init\");",
                    "this.getAllJobs();"
                ],
                "name": "render",
                "scope": "me"
            },
            "name": "onViewportRender",
            "designerId": "c7f6cba4-c3cb-43cc-806a-1eb49eb0581f"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "getAllJobs",
                "implHandler": [
                    "this.mask(\"Loading Jobs...\");",
                    "",
                    "AERP.Ajax.request({",
                    "    url:'getAllJobs',",
                    "    success:function(result){",
                    "        this.unmask();",
                    "        console.log(result);",
                    "    },",
                    "    failure:function(){",
                    "        this.unmask();",
                    "    },",
                    "    scope:this",
                    "});"
                ]
            },
            "name": "getAllJobs",
            "designerId": "6793a855-7db5-4d19-b549-b67fe28f21ca"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "addNewJob",
                "implHandler": [
                    "var jobPanel = this.queryById(\"jobPanel\");",
                    "",
                    "this.mask(\"Adding New Job...\");",
                    "",
                    "AERP.Ajax.request({",
                    "    url:'addNewJob',",
                    "    params:jobPanel.getValues(false,false,true,true), //[asString], [dirtyOnly], [includeEmptyText], [useDataValues] ",
                    "    success:function(result){",
                    "        this.unmask();",
                    "        console.log(result);",
                    "    },",
                    "    failure:function(){",
                    "        this.unmask();",
                    "    },",
                    "    scope:this",
                    "});"
                ]
            },
            "name": "addNewJob",
            "designerId": "3d981c5c-f483-4433-ae08-d94a0a527cdc"
        }
    ]
}