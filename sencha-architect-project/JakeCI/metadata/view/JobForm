{
    "type": "Ext.form.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "bodyPadding": 10,
        "border": null,
        "designer|userAlias": "jobform",
        "designer|userClassName": "JobForm",
        "frame": null,
        "height": null,
        "itemId": "jobPanel",
        "mixins": [
            "['DocForm']"
        ],
        "title": "Job Details",
        "trackResetOnLoad": true,
        "width": 629
    },
    "name": "MyForm3",
    "designerId": "ab404ff4-4acc-4b7d-80b2-0a233db83bde",
    "viewControllerInstanceId": "d0ec1f85-40be-438d-b2ac-3c1c0321156c",
    "viewModelInstanceId": "6952602a-04e6-4643-b064-270b31dc0ec2",
    "cn": [
        {
            "type": "Ext.toolbar.Toolbar",
            "reference": {
                "name": "dockedItems",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "dock": "top",
                "itemId": "jobFormToolbar"
            },
            "name": "MyToolbar1",
            "designerId": "421936a7-aed2-45b1-8038-93fea6ed52d9"
        },
        {
            "type": "Ext.form.FieldSet",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "container|align": "stretch",
                "itemId": null,
                "layout": "vbox",
                "margin": null,
                "title": "Description"
            },
            "name": "MyFieldSet",
            "designerId": "c13067a3-8f94-4b54-b1c9-bfce8e403789",
            "cn": [
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "Name",
                        "itemId": "name",
                        "labelAlign": "right",
                        "name": null
                    },
                    "name": "MyTextField1",
                    "designerId": "8fbddd71-582c-41e8-a9c4-947c923609b1"
                },
                {
                    "type": "Ext.form.field.TextArea",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "Description",
                        "itemId": "description",
                        "labelAlign": "right",
                        "name": null
                    },
                    "name": "MyTextArea",
                    "designerId": "aa807449-3b18-4d7c-a669-fe190d2544bc"
                }
            ]
        },
        {
            "type": "Ext.form.FieldSet",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "container|align": "stretch",
                "layout": "vbox",
                "title": "Source Control"
            },
            "name": "MyFieldSet1",
            "designerId": "4353cc52-b285-48cf-9b21-59344fab1d0b",
            "cn": [
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "displayField": "repoType",
                        "editable": false,
                        "fieldLabel": "Repo Type",
                        "forceSelection": true,
                        "itemId": "repoType",
                        "labelAlign": "right",
                        "layout|flex": 1,
                        "maxWidth": 200,
                        "name": null,
                        "queryMode": "local",
                        "store": [
                            "{RepoTypeStore}"
                        ],
                        "valueField": "repoValue",
                        "width": null
                    },
                    "name": "MyComboBox",
                    "configAlternates": {
                        "store": "binding"
                    },
                    "designerId": "81f931f5-b9ed-4c90-a134-09e6153a29f8"
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "Repo Url",
                        "itemId": "repoUrl",
                        "labelAlign": "right",
                        "layout|flex": 1,
                        "margin": null,
                        "name": null
                    },
                    "name": "MyTextField3",
                    "designerId": "362429cf-db6c-4e8e-b239-3be89214ebfb"
                },
                {
                    "type": "Ext.container.Container",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "container|align": "stretch",
                        "layout": "hbox",
                        "layout|flex": 1,
                        "margin": "0 0 5 0"
                    },
                    "name": "MyContainer3",
                    "designerId": "00f6becc-03ac-4a7b-85dd-1899e5548071",
                    "cn": [
                        {
                            "type": "Ext.form.field.ComboBox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "displayField": "cred",
                                "editable": false,
                                "fieldLabel": "Credentials",
                                "forceSelection": true,
                                "itemId": "repoCredentials",
                                "labelAlign": "right",
                                "layout|flex": 1,
                                "maxWidth": null,
                                "name": null,
                                "queryMode": "local",
                                "store": [
                                    "{CredStore}"
                                ],
                                "valueField": "cred"
                            },
                            "name": "MyComboBox1",
                            "configAlternates": {
                                "store": "binding"
                            },
                            "designerId": "1009ee85-dea1-4380-a20e-507b65d2fa2c"
                        },
                        {
                            "type": "Ext.button.Button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "layout|flex": null,
                                "margin": "0 0 0 5",
                                "text": "Edit Creds"
                            },
                            "name": "MyButton4",
                            "designerId": "d8322287-45cf-4ab0-8133-90284c1f1f57",
                            "cn": [
                                {
                                    "type": "basiceventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onButtonClick",
                                        "implHandler": [
                                            "this.fireEvent('showcredwindow');"
                                        ],
                                        "name": "click",
                                        "scope": "me"
                                    },
                                    "name": "onButtonClick",
                                    "designerId": "ed580a02-167b-48ec-9498-a302404f48c0"
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.form.FieldSet",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "container|align": "stretch",
                "layout": "vbox",
                "title": "Actions"
            },
            "name": "MyFieldSet4",
            "designerId": "c495e184-7611-48f9-98e6-1c5fe817453f",
            "cn": [
                {
                    "type": "Ext.form.field.TextArea",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "Exec",
                        "itemId": "exec",
                        "labelAlign": "right",
                        "name": null
                    },
                    "name": "MyTextArea2",
                    "designerId": "3b141f56-4429-4c6f-a314-4d2fbd4b8bc1"
                }
            ]
        },
        {
            "type": "Ext.form.FieldSet",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "container|align": "stretch",
                "layout": "vbox",
                "title": "Cron"
            },
            "name": "MyFieldSet2",
            "designerId": "d3e18c44-2dc4-4c01-8d16-0f054cd9654c",
            "cn": [
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "Cron Schedule",
                        "itemId": "cron",
                        "labelAlign": "right",
                        "labelWidth": null,
                        "name": null
                    },
                    "name": "MyTextField4",
                    "designerId": "d27ae24b-f799-4067-b46a-3a32f9041524"
                }
            ]
        },
        {
            "type": "Ext.form.FieldSet",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "container|align": "stretch",
                "layout": "vbox",
                "title": "Email"
            },
            "name": "MyFieldSet3",
            "designerId": "7a04019a-3bdc-4b5e-a6d1-bf64b79361d7",
            "cn": [
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fieldLabel": "Email",
                        "itemId": "email",
                        "labelAlign": "right",
                        "labelWidth": null,
                        "name": null
                    },
                    "name": "MyTextField2",
                    "designerId": "97c4aec0-7baf-4637-9754-0a65a5be20e5"
                }
            ]
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "jobName"
                ],
                "fn": "loadJob",
                "implHandler": [
                    "this.docFormUnsavedChangesConfirmContinue(function(){",
                    "\tthis.mask('Loading Job...');",
                    "\tAERP.Ajax.request({",
                    "\t\turl:'/Job/getJob',",
                    "\t\tparams:{jobName:jobName},",
                    "\t\tsuccess:function(reply){",
                    "\t\t\tthis.unmask();",
                    "\t\t\tthis.docFormLoadFormData(reply);",
                    "\t\t\tthis.currentJob = reply.data.name;",
                    "\t\t\tthis.fireEvent('jobloaded',this.currentJob);",
                    "\t\t},",
                    "\t\tfailure:function(){",
                    "\t\t\tthis.unmask();",
                    "\t\t},",
                    "\t\tscope:this",
                    "\t});",
                    "});"
                ]
            },
            "name": "loadJob",
            "designerId": "a653cd4e-fa55-4736-822e-c233723a5193"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "addNewJob",
                "implHandler": [
                    "this.mask(\"Adding New Job...\");",
                    "",
                    "AERP.Ajax.request({",
                    "    url:'/Job/newJob',",
                    "    params:this.getValues(false,false,true,true), //[asString], [dirtyOnly], [includeEmptyText], [useDataValues]",
                    "    success:function(reply){",
                    "        this.unmask();",
                    "        this.loadJob(reply.data.jobName);",
                    "\t\tthis.fireEvent('updatejobgrid');",
                    "    },",
                    "    failure:function(){",
                    "        this.unmask();",
                    "    },",
                    "    scope:this",
                    "});"
                ]
            },
            "name": "addNewJob",
            "designerId": "0e1f976b-f046-4dc3-a891-d7f6fa901f8e"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "saveJob",
                "implHandler": [
                    "this.mask('Saving...');",
                    "AERP.Ajax.request({",
                    "    url:'/Job/saveJob',",
                    "    params:{",
                    "        jobName:this.currentJob,",
                    "        jobData:Ext.encode(this.getValues(false,false,true,true)) //[asString], [dirtyOnly], [includeEmptyText], [useDataValues",
                    "    },",
                    "    success:function(reply){",
                    "        this.unmask();",
                    "        this.docFormLoadFormData(reply);",
                    "        this.currentJob = reply.data.name;",
                    "        this.fireEvent('updatejobgrid');",
                    "    },",
                    "    failure:function(){",
                    "        this.unmask();",
                    "    },",
                    "    scope:this",
                    "});"
                ]
            },
            "name": "saveJob",
            "designerId": "148698c9-dbfe-4d9a-ae82-9789635d54db"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "runLoadedJob",
                "implHandler": [
                    "this.mask('Starting Job...');",
                    "AERP.Ajax.request({",
                    "    url:'/Job/runJob',",
                    "    params:{",
                    "        jobName:this.currentJob,",
                    "    },",
                    "    success:function(reply){",
                    "        this.unmask();",
                    "    },",
                    "    failure:function(){",
                    "        this.unmask();",
                    "    },",
                    "    scope:this",
                    "});"
                ]
            },
            "name": "runLoadedJob",
            "designerId": "7e5b4880-4050-4a1d-876f-7bcfc154c393"
        },
        {
            "type": "basiceventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onJobPanelAfterRender",
                "implHandler": [
                    "this.docFormInit({",
                    "    toolbarId:'jobFormToolbar',",
                    "\taddFn:'addNewJob',",
                    "\tsaveFn:'saveJob',",
                    "\thideNewButton:true",
                    "});",
                    "",
                    "AERP.Ajax.request({",
                    "    url:'/Creds/getAllCreds',",
                    "    success:function(reply){",
                    "        this.lookupViewModel().getStore('CredStore').setData(reply.data);",
                    "        this.fireEvent('docforminitcomplete',this);",
                    "    },",
                    "    scope:this",
                    "});",
                    ""
                ],
                "name": "afterrender",
                "scope": "me"
            },
            "name": "onJobPanelAfterRender",
            "designerId": "f54bdc49-b406-43eb-8523-084a601322c0"
        }
    ]
}